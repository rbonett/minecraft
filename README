for whitelist: https://api.mojang.com/users/profiles/minecraft/

useradd -m minecraft
mkdir /srv/minecraft
cd /srv/minecraft

wget https://piston-data.mojang.com/v1/objects/95495a7f485eedd84ce928cef5e223b757d2f764/server.jar
wget -qO - https://packages.adoptium.net/artifactory/api/gpg/key/public | gpg --dearmor | tee /etc/apt/trusted.gpg.d/adoptium.gpg > /dev/null
echo "deb https://packages.adoptium.net/artifactory/deb $(awk -F= '/^VERSION_CODENAME/{print$2}' /etc/os-release) main" | tee /etc/apt/sources.list.d/adoptium.list
curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.10/0.17.3/1.1.0/server/jar

apt update
apt upgrade
apt install temurin-25-jre

echo 'java -Xmx3G -jar fabric-server-mc.1.21.10-loader.0.17.3-launcher.1.1.0.jar nogui' > start.sh
chmod +x start_server.sh
./start_server.sh

cd mods
wget https://cdn.modrinth.com/data/5ibSyLAz/versions/FX9V1bWK/inventorysorter-fabric-2.1.0%2Bmc1.21.9.jar
wget https://cdn.modrinth.com/data/uXXizFIs/versions/CtMpt7Jr/ferritecore-8.0.0-fabric.jar
wget https://cdn.modrinth.com/data/gvQqBUqZ/versions/oGKQMdyZ/lithium-fabric-0.20.0%2Bmc1.21.10.jar
wget https://cdn.modrinth.com/data/P7dR8mSH/versions/lxeiLRwe/fabric-api-0.136.0%2B1.21.10.jar
https://cdn.modrinth.com/data/9s6osm5g/versions/qMxkrrmq/cloth-config-20.0.149-fabric.jar

chown -R minecraft:minecraft /home/minecraft
